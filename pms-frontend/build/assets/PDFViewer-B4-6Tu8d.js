import{d as g,A as b,n as s,l as w,o as n,f as l,b as e,t as m,N as k,i as P,j as f,_ as A}from"./index-BGKEJEuu.js";const C={class:"flex flex-col h-screen bg-gray-100"},D={class:"flex items-center justify-between px-6 py-4 bg-white border-b border-gray-200 shadow-sm"},$={class:"flex-1 m-0 text-lg font-semibold text-center text-gray-900"},j={key:0,class:"flex flex-col items-center justify-center flex-1 gap-4"},B={key:1,class:"flex flex-col items-center justify-center flex-1 gap-4"},F={class:"m-0 text-center text-gray-600 max-w-md"},L={key:2,class:"flex flex-1 p-0 overflow-hidden"},T=["src"],I=g({__name:"PDFViewer",setup(S){const c=b(),o=s(c.params.type),d=s(c.params.id),t=s(!0),r=s(null),i=s(null),u="http://localhost:8000",p=f(()=>["pr_status_attachment","asset_attachment","supply_attachment","assignment_document","repair_document"].includes(o.value)?`${u}/api/v1/admin/pdf/file/${o.value}/${d.value}`:`${u}/api/v1/admin/pdf/view/${o.value}/${d.value}`),v=f(()=>({ptr:"Property Transfer Report",invoice:"Invoice Receipt",par:"Property Acknowledgment Receipt",ics:"Inventory Custodian Slip",pr_status_attachment:"Procurement Status Attachment",asset_attachment:"Asset Attachment",supply_attachment:"Supply Attachment"})[o.value.toLowerCase()]||`${o.value.toUpperCase()} Document`),x=()=>{r.value=null,t.value=!0,i.value&&(i.value.src=p.value)},h=()=>{setTimeout(()=>{t.value=!1},300)},y=()=>{t.value=!1,r.value="Unable to load the PDF. Please check your connection and try again."};return w(()=>{setTimeout(()=>{t.value&&(t.value=!1)},5e3)}),(_,a)=>(n(),l("div",C,[e("div",D,[e("h1",$,m(v.value),1)]),t.value?(n(),l("div",j,[...a[0]||(a[0]=[e("div",{class:"w-12 h-12 border-4 border-gray-200 border-t-blue-500 rounded-full animate-spin"},null,-1),e("p",{class:"m-0 text-base text-gray-600"},"Loading PDF...",-1)])])):r.value?(n(),l("div",B,[a[2]||(a[2]=k('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500" data-v-c15088ab><circle cx="12" cy="12" r="10" data-v-c15088ab></circle><line x1="12" y1="8" x2="12" y2="12" data-v-c15088ab></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-c15088ab></line></svg><h2 class="m-0 text-2xl font-semibold text-gray-900" data-v-c15088ab>Failed to Load PDF</h2>',2)),e("p",F,m(r.value),1),e("button",{onClick:x,class:"flex items-center gap-2 px-6 py-2 text-sm font-medium text-white bg-blue-500 border-none rounded-md cursor-pointer transition-colors hover:bg-blue-600 mt-2"},[...a[1]||(a[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("polyline",{points:"23 4 23 10 17 10"}),e("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})],-1),P(" Try Again ",-1)])])])):(n(),l("div",L,[e("iframe",{ref_key:"pdfIframe",ref:i,src:p.value,class:"w-full h-full border-0",frameborder:"0",onLoad:h,onError:y},null,40,T)]))]))}}),M=A(I,[["__scopeId","data-v-c15088ab"]]);export{M as default};
